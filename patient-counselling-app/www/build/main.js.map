{"version":3,"sources":["../../src/pages/home/home.ts","../../src/pages/assessment/assessment.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/therapy/therapy.ts","../../src/providers/background-camera/background-camera.ts","../../src/providers/api/api.ts","../../src/pages/video-therapy/video-therapy.ts","../../src/pages/emdr/emdr.ts","../../src/pages/history/history.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/storage/storage.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, Platform } from 'ionic-angular';\nimport { StorageProvider } from '../../providers/storage/storage';\nimport { ScoreHisotry } from '../../models/ScoreHistory';\nimport { TherapyPage } from '../therapy/therapy';\nimport { HistoryPage } from '../history/history';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  therapy = { lastDate: '2018-02-11' };\n  constructor(public navCtrl: NavController, private storage: StorageProvider, private plt: Platform) {\n    this.storage.getItem('therapyHistory').then(history => this.therapy = history).catch(ex => {\n      let therapy = { lastDate: Date.now() };\n      this.storage.setItem('therapyHistory', therapy);\n    })\n  }\n\n  ionViewDidEnter() { }\n\n  /**\n   * Tap handler for StartTherapy\n   */\n  public tapStartTherapy() {\n    console.log(\"tapped start therapy\");\n    this.navCtrl.push(TherapyPage);\n  }\n\n  /**\n   * Tap handler for Therapy History page\n   */\n  public tapTherapyHistoryButton() {\n    this.navCtrl.push(HistoryPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component, ViewChild, OnInit } from '@angular/core';\nimport { NavController, NavParams, Slides, LoadingController, Loading } from 'ionic-angular';\nimport { BackgroundCameraProvider } from '../../providers/background-camera/background-camera';\nimport { ApiProvider } from '../../providers/api/api';\nimport { FaceAnalysisResp } from '../../models/FaceAnalysisResp';\nimport { HomePage } from '../home/home';\nimport { LoadedModule } from 'ionic-angular/util/module-loader';\nimport { StorageProvider } from '../../providers/storage/storage';\nimport { PatientHistory } from '../../models/PatientHistory';\n\n@Component({\n  selector: 'page-assessment',\n  templateUrl: 'assessment.html',\n})\nexport class AssessmentPage implements OnInit {\n\n  @ViewChild(Slides) slides: Slides;\n  imgArr: Array<number> = [];\n  showNextButton: boolean = false;\n  faceAnalysis: FaceAnalysisResp[] = [];\n  // to be decided on image description\n  // triggerImage: Array<number> = [1, 2, 3, 4];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private bgCam: BackgroundCameraProvider, private api: ApiProvider, private loadingCtrl: LoadingController, private storage: StorageProvider) {\n    this.imgArr = this.shuffle([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\n  }\n\n  ngOnInit() {\n\n    this.slides.lockSwipeToNext(true);\n    this.slides.lockSwipeToPrev(true);\n    this.bgCam.startCamera().then((success) => {\n      this.slideChanged();\n    })\n      .catch(fail => this.navCtrl.setRoot(HomePage));\n    // setTimeout(() => this.showNextButton = true, 3000);\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AssessmentPage');\n  }\n\n  ionViewDidLeave() {\n    console.log(\"Page leaving\");\n  }\n\n  /**\n   * Events for slide change event\n   */\n  private slideChanged() {\n    // get current slide index for further processing\n    console.log(\"Slide change event\");\n    setTimeout(() => {\n      this.showNextButton = true;\n      let currentIndex = this.slides.getActiveIndex();\n      console.log('Current index is', currentIndex);\n      // const imageVal = this.imgArr[currentIndex];\n      // if (this.triggerImage.indexOf(imageVal) !== -1) {\n      const loading = this.loadingCtrl.create({ content: 'Great Progress' });\n      loading.present();\n      this.startFaceAnalysis(loading);\n    }\n      , 3000);\n\n    // }\n  }\n\n  /**\n   * Tap handler for next slide button\n   */\n  private tapNextHandler() {\n    this.showNextButton = false;\n    if (this.slides.isEnd()) {\n      console.log(\"Thnks for assessment\");\n      let loading = this.loadingCtrl.create({ content: \"Thanks for Assessment.\" });\n      loading.present();\n      let therapy = { lastDate: Date.now() };\n      this.storage.setItem('therapyHistory', therapy).then((success) => {\n        loading.dismiss();\n        this.navCtrl.setRoot(HomePage);\n      })\n        .catch(ex => loading.dismiss());\n    }\n    this.slides.lockSwipeToNext(false);\n    this.slides.slideNext();\n    this.slides.lockSwipeToNext(true);\n  }\n\n  /**\n   * Start facial analysis to get required attributes\n   * for face analysis. \n   */\n  private async startFaceAnalysis(loading: Loading) {\n    try {\n      const imgData: Blob = await this.bgCam.takePicture();\n      const faceAnalysisData = await this.api.analyseFace(imgData);\n      loading.dismiss();\n      this.faceAnalysis.push(faceAnalysisData);\n      // Check if assessment has comoleted/interrupted\n      if (this.analyseFace(faceAnalysisData)) {\n        console.log(\"Assessment ended as person still has stress\");\n        let newHistory: PatientHistory = { assessmentDate: Date.now(), faceAnalysisArr: this.faceAnalysis };\n        this.storage.setItem('patientHistory', newHistory);\n        this.navCtrl.setRoot(HomePage);\n      };\n    }\n    catch (ex) {\n      loading.dismiss();\n      console.log(\"Error in startFaceAnalysis api \", ex);\n    }\n  }\n\n  /**\n   * Check if the person has fear, anger or sadness for a particular image\n   * @param faceAnalysisData \n   */\n  private analyseFace(faceAnalysisData: FaceAnalysisResp) {\n    // if fear is greater than 50 or anger is greater than 70 or sadness is greater than 90\n    // return true\n    return faceAnalysisData.faceAttributes.emotion.anger > 0.7 || faceAnalysisData.faceAttributes.emotion.fear > 0.5 || faceAnalysisData.faceAttributes.emotion.sadness > 0.7 ? true : false;\n  }\n\n  /**\n   * Shuffle image arrayss\n   * @param array \n   */\n  private shuffle(array) {\n    let currentIndex = array.length, temporaryValue, randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n\n      // And swap it with the current element.\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n    return array;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/assessment/assessment.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 116;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 116\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 158;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 158\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { StorageProvider } from '../../providers/storage/storage';\nimport { EmdrPage } from '../emdr/emdr';\nimport { AssessmentPage } from '../assessment/assessment';\nimport { VideoTherapyPage } from '../video-therapy/video-therapy';\n\n@Component({\n  selector: 'page-therapy',\n  templateUrl: 'therapy.html',\n})\nexport class TherapyPage {\n\n  therapies: Array<string> = [];\n\n  constructor(public navCtrl: NavController, public storage: StorageProvider, public navParams: NavParams, private modalCtrl: ModalController) {\n    // this.storage.getItem('therapies').then(therapies => this.therapies = therapies);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TherapyPage');\n    this.startTherapy();\n  }\n\n  ionViewDidLeave() {\n    // this.saveTherapyState();\n  }\n\n\n  /**\n   * Start User Therapy\n   */\n  private startTherapy() {\n    //start video therapy\n    this.startVideoTherapy();\n    // mark therapy1 as complete\n    //start edmr therapy\n    // mark therpay completed\n  }\n\n  /**\n   * Start User assessment\n   */\n  private startAssessment() {\n    this.navCtrl.setRoot(AssessmentPage);\n  }\n\n  /**\n   * Start video therapy\n   */\n  private startVideoTherapy(): Promise<boolean> {\n    this.navCtrl.setRoot(VideoTherapyPage);\n    return Promise.resolve(true);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/therapy/therapy.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { CameraPreview, CameraPreviewOptions, CameraPreviewPictureOptions } from '@ionic-native/camera-preview';\n\nconst cameraPreviewOpts: CameraPreviewOptions = {\n  x: 0,\n  y: 0,\n  width: window.screen.width,\n  height: window.screen.height,\n  camera: 'front',\n  tapPhoto: true,\n  previewDrag: true,\n  toBack: true,\n  alpha: 1\n};\n\n@Injectable()\nexport class BackgroundCameraProvider {\n\n  constructor(public http: HttpClient, private camera: CameraPreview) {\n    console.log('Hello BackgroundCameraProvider Provider');\n  }\n\n  /**\n   * Start Device Camera\n   */\n  public startCamera() {\n    return this.camera.startCamera(cameraPreviewOpts).then(\n      (res) => {\n        console.log(res)\n        return true\n      },\n      (err) => {\n        console.log(\"cam preview err\", err)\n        return false\n      });\n  }\n\n  /**\n   * Take picture from camera.\n   * Converts Image data from camera to Blob to \n   * send to server as Octed-stream/binary\n   */\n  public takePicture() {\n    const pictureOpts: CameraPreviewPictureOptions = {\n      width: 1280,\n      height: 1280,\n      quality: 85\n    }\n    let picture: string;\n    return this.camera.takePicture(pictureOpts).then((imageData) => {\n      // picture = 'data:image/jpeg;base64,' + imageData;\n      console.log(\"Image data\", imageData);\n      // Manipulating received image data to blob\n      let byteCharsOfImageData = atob(imageData);\n      let byteNumbers = new Array(byteCharsOfImageData.length);\n      for (let i = 0; i < byteCharsOfImageData.length; i++) {\n        byteNumbers[i] = byteCharsOfImageData.charCodeAt(i);\n      }\n      let byteArr = new Uint8Array(byteNumbers);\n      let blobOfImg = new Blob([byteArr], { type: 'application/octet-stream' });\n      return blobOfImg;\n    }, (err) => {\n      console.log(err);\n      picture = 'assets/img/test.jpg';\n      let blob = new Blob();\n      return blob;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/background-camera/background-camera.ts","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/toPromise';\nimport { FaceAnalysisResp } from '../../models/FaceAnalysisResp';\n\n// Feel free to use any Cognitive service and call accordingly\n// and put your api and key below.\nconst APIURL = \"https://eastus.api.cognitive.microsoft.com/face/v1.0/detect\";\nconst KEY = \"af6ed2b5788a4d1889e76a06951c62e1\";\n\n@Injectable()\nexport class ApiProvider {\n\n  constructor(public http: HttpClient) {\n    console.log('Hello ApiProvider Provider');\n  }\n\n  /**\n   * Analyse user's face and capture the emotions\n   * needed for analysis.\n   */\n  public analyseFace(img: Blob): Promise<FaceAnalysisResp> {\n    const params = {\n      \"returnFaceId\": \"true\",\n      \"returnFaceLandmarks\": \"false\",\n      \"returnFaceAttributes\": \"age,gender,smile,glasses,emotion\",\n    };\n    let header = new HttpHeaders();\n    header = header.append('Content-Type', 'application/octet-stream');\n    header = header.append('Ocp-Apim-Subscription-Key', KEY);\n    const opts = { headers: header, params: params };\n    return this.http.post(APIURL, img, opts)\n      .toPromise()\n      .then((response: FaceAnalysisResp[]) => {\n        console.log(\"Face response\", response);\n        return response[0];\n      })\n      .catch(err => {\n        console.log(\"Error\", err);\n        return Promise.reject(null);\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/api/api.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { EmdrPage } from '../emdr/emdr';\n\n\n@Component({\n  selector: 'page-video-therapy',\n  templateUrl: 'video-therapy.html',\n})\nexport class VideoTherapyPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad VideoTherapyPage');\n    // Playing a video.\n    // this.videoPlayer.openVideo('8yBclu-KoaQ');\n  }\n\n  /**\n   * Tap handler for next therapy\n   */\n  private tapNextTherapyHandler() {\n    this.startEMDRTherapy();\n  }\n  /**\n   * Start EMDR therapy\n   */\n  private startEMDRTherapy() {\n    this.navCtrl.setRoot(EmdrPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/video-therapy/video-therapy.ts","import { ViewChild, Component, ElementRef, AfterViewInit } from '@angular/core';\nimport { NavController, NavParams, ToastController } from 'ionic-angular';\nimport { AssessmentPage } from '../assessment/assessment';\nimport { Loading } from 'ionic-angular/components/loading/loading';\n\n@Component({\n  selector: 'page-emdr',\n  templateUrl: 'emdr.html',\n})\nexport class EmdrPage implements AfterViewInit {\n\n  @ViewChild('myCanvas') myCanvas: ElementRef;\n  public context: CanvasRenderingContext2D;\n  constructor(public navCtrl: NavController, public navParams: NavParams, private toastCtrl: ToastController) {\n  }\n\n  ngAfterViewInit() {\n    this.context = (<HTMLCanvasElement>this.myCanvas.nativeElement).getContext('2d');\n    this.drawCanvasForEmdr();\n\n    // Set time out for moving to assessment page right after the therpy.\n    setTimeout(() => {\n      let toast = this.toastCtrl.create({ message: 'Moving for Assessment' });\n      toast.present();\n      this.navCtrl.setRoot(AssessmentPage).then((success) => toast.dismiss())\n    }, 30000)\n  };\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad EmdrPage');\n  }\n\n  /**\n   * Draw canvas for EMDR therapy using a ball\n   */\n  public drawCanvasForEmdr() {\n\n    let ctx: CanvasRenderingContext2D = this.context;\n\n    //create te container that will hold the boincing balls.\n    let container = {\n      x: 0,\n      y: 0,\n      width: window.outerWidth,\n      height: window.innerHeight\n    };\n    //create the array of circles that will be animated\n    let circles = [{\n      x: 100,\n      y: 50,\n      r: 15,\n      vx: 8,\n      vy: 10,\n      color: 100\n    }];\n\n\n    /**\n     * Animate the scene for ball motion\n     */\n    function animate() {\n      //draw the container\n      ctx.fillStyle = \"#FFF\";\n      ctx.fillRect(container.x, container.y, container.width, container.height);\n\n      //loop throughj the circles array\n      for (var i = 0; i < circles.length; i++) {\n        //draw the circles\n        ctx.fillStyle = 'hsl(' + circles[i].color + ', 100%, 50%)';\n        ctx.beginPath();\n        ctx.arc(circles[i].x, circles[i].y, circles[i].r, 0, Math.PI * 2, true);\n        ctx.fill()\n\n        // animate  circles\n        if (circles[i].x - circles[i].r + circles[i].vx < container.x || circles[i].x + circles[i].r + circles[i].vx > container.x + container.width) {\n          circles[i].vx = -circles[i].vx;\n        }\n\n        if (circles[i].y + circles[i].r + circles[i].vy > container.y + container.height || circles[i].y - circles[i].r + circles[i].vy < container.y) {\n          circles[i].vy = -circles[i].vy;\n        }\n\n        circles[i].x += circles[i].vx\n        // circles[i].y += circles[i].vy\n      }\n\n      setTimeout(() => requestAnimationFrame(animate), 50)\n    }\n    setTimeout(() => requestAnimationFrame(animate), 50)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/emdr/emdr.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { StorageProvider } from '../../providers/storage/storage';\nimport { PatientHistory } from '../../models/PatientHistory';\n\n@Component({\n  selector: 'page-history',\n  templateUrl: 'history.html',\n})\nexport class HistoryPage {\n\n  patientHistoryArr: PatientHistory[]=[];\n  constructor(public navCtrl: NavController, public navParams: NavParams, private storage: StorageProvider) {\n    // this.patientHistoryArr = [{\n    //   assessmentDate: Date.now(), faceAnalysisArr: []\n    // }];\n    console.log(\"Patient\", this.patientHistoryArr.length);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad HistoryPage');\n    this.storage.getItem('patientHistory').then((history) => {\n      this.patientHistoryArr = history;\n    })\n      .catch(ex => console.log(\"No data in history\", ex));\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\n// disable console log\n// console.log = function(){};\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n// pages and components\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { AssessmentPage } from '../pages/assessment/assessment';\nimport { EmdrPage } from '../pages/emdr/emdr';\nimport { TherapyPage } from '../pages/therapy/therapy';\n// Cordova plugins\nimport { CameraPreview } from '@ionic-native/camera-preview';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { NativeStorage } from '@ionic-native/native-storage';\n// Providers\nimport { ApiProvider } from '../providers/api/api';\nimport { BackgroundCameraProvider } from '../providers/background-camera/background-camera';\nimport { StorageProvider } from '../providers/storage/storage';\nimport { VideoTherapyPage } from '../pages/video-therapy/video-therapy';\nimport { HistoryPage } from '../pages/history/history';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    AssessmentPage,\n    EmdrPage,\n    TherapyPage,\n    VideoTherapyPage,\n    HistoryPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpClientModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    AssessmentPage,\n    EmdrPage,\n    TherapyPage,\n    VideoTherapyPage,\n    HistoryPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    StorageProvider,\n    NativeStorage,\n    BackgroundCameraProvider,\n    CameraPreview,\n    ApiProvider\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { Platform } from 'ionic-angular';\n\n/**\n * An isotropic storgae library built on top of local storage and \n * Native Storage plugin for Ionic application. \n * Author: @sshivamsngh\n */\n\n@Injectable()\nexport class StorageProvider {\n\n  mobile: boolean = false;\n  constructor(private nativeStorage: NativeStorage, private plt: Platform) {\n    console.log('Hello StorageProvider Provider');\n    const platDetail = this.plt.platforms();\n    console.log(\"platforms:\", platDetail);\n    platDetail.forEach(x => {\n      if (x === 'mobile')\n        this.mobile = true;\n    });\n  }\n\n  /**\n   * Set item in local storage \n   * @param key \n   * @param value \n   */\n  public setItem(key: string, value: any): Promise<any> {\n    console.log(\"mobile plt\", this.mobile);\n    if (this.mobile) {\n      return this.nativeStorage.setItem(key, value);\n    }\n    else {\n      try {\n        const res = localStorage.setItem(key, JSON.stringify(value));\n        return Promise.resolve('success');\n      }\n      catch (ex) {\n        return Promise.reject(ex);\n      }\n\n    }\n  }\n\n  /**\n   * Get item from local storage\n   * @param key \n   */\n  public getItem(key: string) {\n    console.log(\"mobile plt\", this.mobile);\n    if (this.mobile) {\n      return this.nativeStorage.getItem(key);\n    }\n    else {\n      try {\n        const res = JSON.parse(localStorage.getItem(key));\n        return (res === null || res === undefined) ? Promise.reject('Not Found') : Promise.resolve(res);\n      }\n      catch (ex) {\n        return Promise.reject(ex);\n      }\n    }\n  }\n\n  /**\n   * Clear storage\n   * @param key \n   */\n  public clear(key: string) {\n    console.log(\"mobile plt\", this.mobile);\n    if (this.mobile) {\n      return this.nativeStorage.remove(key);\n    }\n    else {\n      try {\n        const res = localStorage.removeItem(key);\n        return Promise.resolve('success');\n      }\n      catch (ex) {\n        return Promise.reject(ex);\n      }\n    }\n  }\n\n  /**\n   * Clear  all items from storage\n   */\n  public clearAll() {\n    console.log(\"mobile plt\", this.mobile);\n    if (this.mobile) {\n      return this.nativeStorage.clear();\n    }\n    else {\n      try {\n        const res = localStorage.clear();\n        return Promise.resolve(res);\n      }\n      catch (ex) {\n        return Promise.reject(ex);\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage/storage.ts"],"sourceRoot":""}